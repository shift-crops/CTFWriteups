let qword = new ArrayBuffer(8);
let f64 = new Float64Array(qword);
let u32 = new Uint32Array(qword);

function u2f(v){
	u32[0] = v % 0x100000000;
	u32[1] = v / 0x100000000 >> 0;
	return f64[0];
}

function f2u(v){
	f64[0] = v;
	return u32[1] * 0x100000000 + u32[0];
}

let u2jsv = v => u2f(v - 0x1000000000000);
let jsv2u = v => f2u(v) + 0x1000000000000;

function hex(x) {
	return `0x${x.toString(16)}`
}

function unhexlify(hexstr, align = 4) {
	let buflen = hexstr.length / 2;

    let buf = new ArrayBuffer(((buflen + align-1)/align>>0)*align);
    let bytes = new Uint8Array(buf);
    for(let i = 0; i < hexstr.length; i += 2)
        bytes[i/2] = parseInt(hexstr.substr(i, 2), 16);

    return buf;
}
